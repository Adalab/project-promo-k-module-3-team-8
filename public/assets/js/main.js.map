{"version":3,"sources":["image-components.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\r\n\r\nconst fr = new FileReader();\r\nconst uploadBtn = document.querySelector('.js__profile-trigger');\r\nconst fileField = document.querySelector('.js__profile-upload-btn');\r\nconst profileImage = document.querySelector('.js__profile-image');\r\nconst profilePreview = document.querySelector('.js__profile-preview');\r\n\r\n/**\r\n * Recoge el archivo añadido al campo de tipo \"file\"\r\n * y lo carga en nuestro objeto FileReader para que\r\n * lo convierta a algo con lo que podamos trabajar.\r\n * Añade un listener al FR para que ejecute una función\r\n * al tener los datos listos\r\n * @param {evento} e\r\n */\r\nfunction getImage(e) {\r\n  const myFile = e.currentTarget.files[0];\r\n\tfr.addEventListener('load', writeImage);\r\n\tfr.readAsDataURL(myFile);\r\n}\r\n\r\n/**\r\n * Una vez tenemos los datos listos en el FR podemos\r\n * trabajar con ellos ;)\r\n */\r\nfunction writeImage() {\r\n  /* En la propiedad `result` de nuestro FR se almacena\r\n   * el resultado. Ese resultado de procesar el fichero que hemos cargado\r\n   * podemos pasarlo como background a la imagen de perfil y a la vista previa\r\n   * de nuestro componente.\r\n   */\r\n  data.photo = fr.result;\r\n  profileImage.style.backgroundImage = `url(${fr.result})`;\r\n  profilePreview.style.backgroundImage = `url(${fr.result})`;\r\n  storeData();\r\n}\r\n\r\n/**\r\n * Genera un click automático en nuesto campo de tipo \"file\"\r\n * que está oculto\r\n */\r\nfunction fakeFileClick() {\r\n  fileField.click();\r\n}\r\n\r\n/**\r\n * Añadimos los listeners necesarios:\r\n * - al botón visible para generar el click automático\r\n * - al campo oculto para cuando cambie su value\r\n */\r\nuploadBtn.addEventListener('click', fakeFileClick);\r\nfileField.addEventListener('change', getImage);\r\n","/* eslint-disable indent */\n\n'use strict';\n\n// Objeto DATA:\nlet data = {\n\tname: 'Nombre Apellido',\n\tjob: 'Front-end developer',\n\tphone: '#',\n\temail: '#',\n\tlinkedin: '#',\n\tgithub: '#',\n\tphoto: 'url(../images/preview-default-NaN-team-monsters.jpg)',\n\tpalette: 1,\n};\n\n// Constantes:\nconst previewText = document.querySelectorAll('.js-preview-text');\nconst previewHref = document.querySelectorAll('.js-preview-href');\nconst inputList = document.querySelectorAll('.js-field');\n\n// ** COLAPSABLES **\nconst header1 = document.querySelector('.js-header1');\nconst header2 = document.querySelector('.js-header2');\nconst header3 = document.querySelector('.js-header3');\nconst content1 = document.querySelector('.js-content1');\nconst content2 = document.querySelector('.js-content2');\nconst content3 = document.querySelector('.js-content3');\nconst arrow1 = document.querySelector('.js-arrow1');\nconst arrow2 = document.querySelector('.js-arrow2');\nconst arrow3 = document.querySelector('.js-arrow3');\n\nfunction collapse1() {\n\tcontent1.classList.toggle('collapsed');\n\tif (!content1.classList.contains('collapsed')) {\n\t\tcontent2.classList.add('collapsed');\n\t\tcontent3.classList.add('collapsed');\n\t\tarrow1.classList.add('item__header--arrowUp');\n\t\tarrow2.classList.add('item__header--arrowDown');\n\t\tarrow3.classList.add('item__header--arrowDown');\n\t\tarrow1.classList.remove('item__header--arrowDown');\n\t\tarrow2.classList.remove('item__header--arrowUp');\n\t\tarrow3.classList.remove('item__header--arrowUp');\n\t} else {\n\t\tarrow1.classList.add('item__header--arrowDown');\n\t\tarrow2.classList.add('item__header--arrowDown');\n\t\tarrow3.classList.add('item__header--arrowDown');\n\t\tarrow1.classList.remove('item__header--arrowUp');\n\t\tarrow2.classList.remove('item__header--arrowUp');\n\t\tarrow3.classList.remove('item__header--arrowUp');\n\t}\n}\nheader1.addEventListener('click', collapse1);\n\nfunction collapse2() {\n\tcontent2.classList.toggle('collapsed');\n\tif (!content2.classList.contains('collapsed')) {\n\t\tcontent1.classList.add('collapsed');\n\t\tcontent3.classList.add('collapsed');\n\t\tarrow1.classList.add('item__header--arrowDown');\n\t\tarrow2.classList.add('item__header--arrowUp');\n\t\tarrow3.classList.add('item__header--arrowDown');\n\t\tarrow1.classList.remove('item__header--arrowUp');\n\t\tarrow2.classList.remove('item__header--arrowDown');\n\t\tarrow3.classList.remove('item__header--arrowUp');\n\t} else {\n\t\tarrow1.classList.add('item__header--arrowDown');\n\t\tarrow2.classList.add('item__header--arrowDown');\n\t\tarrow3.classList.add('item__header--arrowDown');\n\t\tarrow1.classList.remove('item__header--arrowUp');\n\t\tarrow2.classList.remove('item__header--arrowUp');\n\t\tarrow3.classList.remove('item__header--arrowUp');\n\t}\n}\nheader2.addEventListener('click', collapse2);\n\nfunction collapse3() {\n\tcontent3.classList.toggle('collapsed');\n\tif (!content3.classList.contains('collapsed')) {\n\t\tcontent1.classList.add('collapsed');\n\t\tcontent2.classList.add('collapsed');\n\t\tarrow1.classList.add('item__header--arrowDown');\n\t\tarrow2.classList.add('item__header--arrowDown');\n\t\tarrow3.classList.add('item__header--arrowUp');\n\t\tarrow1.classList.remove('item__header--arrowUp');\n\t\tarrow2.classList.remove('item__header--arrowUp');\n\t\tarrow3.classList.remove('item__header--arrowDown');\n\t} else {\n\t\tarrow1.classList.add('item__header--arrowDown');\n\t\tarrow2.classList.add('item__header--arrowDown');\n\t\tarrow3.classList.add('item__header--arrowDown');\n\t\tarrow1.classList.remove('item__header--arrowUp');\n\t\tarrow2.classList.remove('item__header--arrowUp');\n\t\tarrow3.classList.remove('item__header--arrowUp');\n\t}\n}\nheader3.addEventListener('click', collapse3);\n// ** END COLAPSABLES **\n\n// ** SELETOR DE COLOR **\nconst stick = document.querySelector('.js-stick');\nconst previewName = document.querySelector('.js-preview-name');\nconst paletteCold = document.querySelector('.js-option1');\nconst paletteWarm = document.querySelector('.js-option2');\nconst paletteMild = document.querySelector('.js-option3');\nconst paletteColdValue = parseInt(paletteCold.value);\nconst paletteWarmValue = parseInt(paletteWarm.value);\nconst paletteMildValue = parseInt(paletteMild.value);\n\nfunction selectPaletteCold() {\n\tdata.palette = paletteColdValue;\n\tpaintPalette();\n}\nfunction selectPaletteWarm() {\n\tdata.palette = paletteWarmValue;\n\tpaintPalette();\n}\nfunction selectPaletteMild() {\n\tdata.palette = paletteMildValue;\n\tpaintPalette();\n}\n\nfunction paintPalette() {\n\tif (data.palette === 1) {\n\t\tstick.classList.add('stick-border-cold');\n\t\tstick.classList.remove('stick-border-mild');\n\t\tstick.classList.remove('stick-border-warm');\n\t\tpreviewName.classList.add('name-cold');\n\t\tpreviewName.classList.remove('name-mild');\n\t\tpreviewName.classList.remove('name-warm');\n\t\tfor (const eachIcon of previewHref) {\n\t\t\teachIcon.classList.add('icon-cold');\n\t\t\teachIcon.classList.remove('icon-mild');\n\t\t\teachIcon.classList.remove('icon-warm');\n\t\t}\n\t} else if (data.palette === 2) {\n\t\tstick.classList.remove('stick-border-cold');\n\t\tstick.classList.remove('stick-border-mild');\n\t\tstick.classList.add('stick-border-warm');\n\t\tpreviewName.classList.remove('name-cold');\n\t\tpreviewName.classList.remove('name-mild');\n\t\tpreviewName.classList.add('name-warm');\n\t\tfor (const eachIcon of previewHref) {\n\t\t\teachIcon.classList.remove('icon-cold');\n\t\t\teachIcon.classList.remove('icon-mild');\n\t\t\teachIcon.classList.add('icon-warm');\n\t\t}\n\t} else if (data.palette === 3) {\n\t\tstick.classList.remove('stick-border-cold');\n\t\tstick.classList.add('stick-border-mild');\n\t\tstick.classList.remove('stick-border-warm');\n\t\tpreviewName.classList.remove('name-cold');\n\t\tpreviewName.classList.add('name-mild');\n\t\tpreviewName.classList.remove('name-warm');\n\t\tfor (const eachIcon of previewHref) {\n\t\t\teachIcon.classList.remove('icon-cold');\n\t\t\teachIcon.classList.add('icon-mild');\n\t\t\teachIcon.classList.remove('icon-warm');\n\t\t}\n\t}\n\tstoreData();\n}\npaletteCold.addEventListener('click', selectPaletteCold);\npaletteWarm.addEventListener('click', selectPaletteWarm);\npaletteMild.addEventListener('click', selectPaletteMild);\n// ** END SELECTOR DE COLOR **\n\n// ** TEXT INPUT **\n// Función de carga de datos al iniciar el navegador:\nchargeData();\n\n// Función para recoger valores introducidos en los inputs:\nfunction getInfo(event) {\n\tdata[event.currentTarget.id] = event.currentTarget.value;\n\tpaint();\n\tstoreData();\n}\nfor (const eachElement of inputList) {\n\teachElement.addEventListener('keyup', getInfo);\n}\n\n// Función para pintar en la tarjeta de PREVIEW:\nfunction paint() {\n\tpreviewText[0].innerHTML = data.name || 'Nombre Apellido';\n\tpreviewText[1].innerHTML = data.job || 'Front-end developer';\n\tpreviewHref[0].href = 'tel:' + data.phone || '#';\n\tpreviewHref[1].href = 'mailto:' + data.email || '#';\n\tpreviewHref[2].href = 'https://' + data.linkedin || '#';\n\tpreviewHref[3].href = 'https://github.com/' + data.github || '#';\n\tprofileImage.style.backgroundImage =\n\t\t`url(${data.photo})` ||\n\t\t'url(../images/preview-default-NaN-team-monsters.jpg)';\n}\n// ** END TEXT INPUT **\n\n// ** RESET **\nconst btnReset = document.querySelector('.js-reset');\nfunction handleReset() {\n\tdata.name = 'Nombre Apellido';\n\tdata.job = 'Front-end developer';\n\tdata.phone = '#';\n\tdata.email = '#';\n\tdata.linkedin = '#';\n\tdata.github = '#';\n\tdata.photo = '../assets/images/preview-default-NaN-team-monsters.jpg';\n\tdata.palette = 1;\n\tfor (const input of inputList) {\n\t\tinput.value = '';\n\t}\n\tprofileImage.style.backgroundImage =\n\t\t'url(../assets/images/bg-yellow-NaN-monster.jpg)';\n\tprofilePreview.style.backgroundImage =\n\t\t'url(../assets/images/preview-default-NaN-team-monsters.jpg)';\n\tpaintPalette();\n\tpaint();\n\tstoreData();\n}\nbtnReset.addEventListener('click', handleReset);\n// ** END RESET **\n\n// ** LOCAL STORAGE **\nfunction storeData() {\n\tconst jsonData = JSON.stringify(data);\n\tlocalStorage.setItem('filledData', jsonData);\n}\nfunction chargeData() {\n\tconst storedData = localStorage.getItem('filledData');\n\tconst lastData = JSON.parse(storedData);\n\tif (lastData !== null) {\n\t\tdata = lastData;\n\t}\n\tpaintPalette();\n\tpaint();\n}\n// ** END LOCAL STORAGE **\n\n// ** CARD GENERATOR **\nconst submitButton = document.querySelector('.js-submit');\nconst responseURL = document.querySelector('.js-response');\nconst form = document.querySelector('.js-form');\n\nfunction sendData() {\n\tsendRequest(data);\n}\n\n// Función para envío de datos a la API\nfunction sendRequest() {\n\tfetch('https://us-central1-awesome-cards-cf6f0.cloudfunctions.net/card/', {\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify(data),\n\t\theaders: {\n\t\t\t'content-type': 'application/json',\n\t\t},\n\t})\n\t\t.then(function (resp) {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(function (result) {\n\t\t\tshowURL(result);\n\t\t})\n\t\t.catch(function (error) {\n\t\t\tconsole.log(error);\n\t\t});\n}\n\nconst hiddenBox = document.querySelector('.js-share-url');\nconst inactiveButton = document.querySelector('.js-share');\n\nfunction showURL(result) {\n\tif (result.success) {\n\t\tresponseURL.innerHTML = result.cardURL;\n\t\tresponseURL.href = result.cardURL;\n\t\thiddenBox.classList.remove('hidden');\n\t\tinactiveButton.classList.add('inactive');\n\t\tsubmitButton.removeEventListener('click', sendRequest);\n\t} else {\n\t\tresponseURL.innerHTML = 'ERROR:' + result.error;\n\t}\n}\nsubmitButton.addEventListener('click', sendRequest);\n// ** END CARD GENERATOR **\n\n"]}